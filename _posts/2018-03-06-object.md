---
layout: post
title: 面向对象
featured-img: jekyll
summary: 在ECMAScript-262中，对象被定义为“无序属性的集合，其属性可以包含基本值，对象或者函数”。也就是说，在JavaScript中，对象无非就是由一些列无序的key-value对组成。其中value可以是基本值，对象或者函数。
author: guyuqing
---

## **1.**对象的定义

`在ECMAScript-262中，对象被定义为“无序属性的集合，其属性可以包含基本值，对象或者函数”。也就是说，在JavaScript中，对象无非就是由一些列无序的key-value对组成。其中value可以是基本值，对象或者函数。`

```
  // 这里的person就是一个对象
  var person = {
      name: 'Tom',
      age: 18,
      getName: function() {},
      parent: {}
  }
```

### 创建对象

我们可以通过new的方式创建一个对象。
```
  var obj = new Object();
```
也可以通过对象字面量的形式创建一个简单的对象。
```
  var obj = {};
```
当我们想要给我们创建的简单对象添加方法时，可以这样表示。
```
  // 可以这样
  var person = {};
  person.name = "TOM";
  person.getName = function() {
      return this.name;
  }

  // 也可以这样
  var person = {
      name: "TOM",
      getName: function() {
          return this.name;
      }
  }
```

### 访问对象的属性和方法

假如我们有一个简单的对象如下：
```
  var person = {
    name: 'TOM',
    age: '20',
    getName: function() {
        return this.name
    }
  }
```
当我们想要访问他的name属性时，可以用如下两种方式访问。
```
  person.name
  // 或
  person['name']
```
如果我们想要访问的属性名是一个变量时，常常会使用第二种方式。例如我们要同时访问`person`的`name`与`age`，可以这样写：
```
  ['name', 'age'].forEach(function(item) {
      console.log(person[item]);
  })
```

## **2.**工厂模式

使用上面的方式创建对象很简单，但是在很多时候并不能满足我们的需求。就以person对象为例。假如我们在实际开发中，不仅仅需要一个名字叫做TOM的person对象，同时还需要另外一个名为Jake的person对象，虽然他们有很多相似之处，但是我们不得不重复写两次。
```
  var perTom = {
      name: 'TOM',
      age: 20,
      getName: function() {
          return this.name
      }
  };

  var perJake = {
      name: 'Jake',
      age: 22,
      getName: function() {
          return this.name
      }
  }
```

我们可以使用工厂模式的方式解决这个问题。顾名思义，工厂模式就是我们提供一个模子，然后通过这个模子复制出我们需要的对象。我们需要多少个，就复制多少个。
```
  var createPerson = function (name, age) {
    	// 声明一个对象，该对象就是工厂模式的模子
    	var o = new Object();
			// 依次添加我们需要的属性和方法
			o.name = name;
			o.age = age;
			o.getName = function () {
				return this.name;
			}
			return o;
  	}
		// 创建两个实例
		var perTom = createPerson('TOM', 20);
		var perJake = createPerson('Jake', 20);
```